#include <stdio.h>

int main(void) {
    int A, B;
    printf("Entrez la valeur du dividende A : ");
    scanf("%d", &A);

    printf("Entrez la valeur du diviseur B : ");
    scanf("%d", &B);

    int a = A, b = B;

    // Variables pour l'algorithme étendu d'Euclide
    int x0 = 1, y0 = 0; // Coefficients pour A
    int x1 = 0, y1 = 1; // Coefficients pour B
    int r, q;

    printf("\n--- Étapes de l'algorithme de Bézout ---\n");

    while (B != 0) {
        q = A / B;
        r = A % B;
        printf("%d = %d × %d + %d\n", A, B, q, r);

        // Calcul des nouveaux coefficients de Bézout
        int x2 = x0 - q * x1;
        int y2 = y0 - q * y1;

        // Affichage de l'équation de Bézout correspondante
        printf("Étape : %d*%d + %d*%d = %d\n\n", a, x2, b, y2, A);

        // Mise à jour pour la prochaine étape
        x0 = x1;
        y0 = y1;
        x1 = x2;
        y1 = y2;

        A = B;
        B = r;
    }

    printf("Le PGCD est : %d\n", A);
    printf("Coefficients finaux de Bézout : x = %d, y = %d\n", x0, y0);
    printf("Vérification : %d*%d + %d*%d = %d\n", a, x0, b, y0, a*x0 + b*y0);

    return 0;
}
